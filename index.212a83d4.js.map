{"mappings":"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","sources":["src/local_packages/knobs.js"],"sourcesContent":["window.addEventListener(\"load\",()=>{\r\n    let op=window.inputKnobsOptions||{};\r\n    op.knobWidth=op.knobWidth||op.knobDiameter||64;\r\n    op.knobHeight=op.knobHeight||op.knobDiameter||64;\r\n    op.sliderWidth=op.sliderWidth||op.sliderDiameter||128;\r\n    op.sliderHeight=op.sliderHeight||op.sliderDiameter||20;\r\n    op.switchWidth=op.switchWidth||op.switchDiameter||24;\r\n    op.switchHeight=op.switchHeight||op.switchDiameter||24;\r\n    op.fgcolor=op.fgcolor||\"#000\";\r\n    op.bgcolor=op.bgcolor||\"#ff6c55\";\r\n    op.knobMode=op.knobMode||\"linear\";\r\n    op.sliderMode=op.sliderMode||\"relative\";\r\n    let styles=document.createElement(\"style\");\r\n    styles.innerHTML=\r\n  `input[type=range].input-knob,input[type=range].input-slider{\r\n    -webkit-appearance:none;\r\n    -moz-appearance:none;\r\n    border:none;\r\n    box-sizing:border-box;\r\n    overflow:hidden;\r\n    background-repeat:no-repeat;\r\n    background-size:100% 100%;\r\n    background-position:0px 0%;\r\n    background-color:transparent;\r\n    touch-action:none;\r\n  }\r\n  input[type=range].input-knob{\r\n    width:${op.knobWidth}px; height:${op.knobHeight}px;\r\n  }\r\n  input[type=range].input-slider{\r\n    width:${op.sliderWidth}px; height:${op.sliderHeight}px;\r\n  }\r\n  input[type=range].input-knob::-webkit-slider-thumb,input[type=range].input-slider::-webkit-slider-thumb{\r\n    -webkit-appearance:none;\r\n    opacity:0;\r\n  }\r\n  input[type=range].input-knob::-moz-range-thumb,input[type=range].input-slider::-moz-range-thumb{\r\n    -moz-appearance:none;\r\n    height:0;\r\n    border:none;\r\n  }\r\n  input[type=range].input-knob::-moz-range-track,input[type=range].input-slider::-moz-range-track{\r\n    -moz-appearance:none;\r\n    height:0;\r\n    border:none;\r\n  }\r\n  input[type=checkbox].input-switch,input[type=radio].input-switch {\r\n    width:${op.switchWidth}px;\r\n    height:${op.switchHeight}px;\r\n    -webkit-appearance:none;\r\n    -moz-appearance:none;\r\n    background-size:100% 200%;\r\n    background-position:0% 0%;\r\n    background-repeat:no-repeat;\r\n    border:none;\r\n    border-radius:0;\r\n    background-color:transparent;\r\n  }\r\n  input[type=checkbox].input-switch:checked,input[type=radio].input-switch:checked {\r\n    background-position:0% 100%;\r\n  }`;\r\n    document.head.appendChild(styles);\r\n    let makeKnobFrames=(fr,fg,bg)=>{\r\n      let r=\r\n  `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"64\" height=\"${fr*64}\" viewBox=\"0 0 64 ${fr*64}\" preserveAspectRatio=\"none\">\r\n  <defs><g id=\"K\"><circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"${bg}\"/>\r\n  <line x1=\"32\" y1=\"28\" x2=\"32\" y2=\"7\" stroke-linecap=\"round\" stroke-width=\"6\" stroke=\"${fg}\"/></g></defs>\r\n  <use xlink:href=\"#K\" transform=\"rotate(-135,32,32)\"/>`;\r\n      for(let i=1;i<fr;++i)\r\n        r+=`<use xlink:href=\"#K\" transform=\"translate(0,${64*i}) rotate(${-135+270*i/fr},32,32)\"/>`;\r\n      return r+\"</svg>\";\r\n    }\r\n    let makeHSliderFrames=(fr,fg,bg,w,h)=>{\r\n      let r=\r\n  `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"${w}\" height=\"${fr*h}\" viewBox=\"0 0 ${w} ${fr*h}\" preserveAspectRatio=\"none\">\r\n  <defs><g id=\"B\"><rect x=\"0\" y=\"0\" width=\"${w}\" height=\"${h}\" rx=\"${h/2}\" ry=\"${h/2}\" fill=\"${bg}\"/></g>\r\n  <g id=\"K\"><circle x=\"${w/2}\" y=\"0\" r=\"${h/2*0.9}\" fill=\"${fg}\"/></g></defs>`;\r\n      for(let i=0;i<fr;++i){\r\n        r+=`<use xlink:href=\"#B\" transform=\"translate(0,${h*i})\"/>`;\r\n        r+=`<use xlink:href=\"#K\" transform=\"translate(${h/2+(w-h)*i/100},${h/2+h*i})\"/>`;\r\n      }\r\n      return r+\"</svg>\";\r\n    }\r\n    let makeVSliderFrames=(fr,fg,bg,w,h)=>{\r\n      let r=\r\n  `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"${w}\" height=\"${fr*h}\" viewBox=\"0 0 ${w} ${fr*h}\" preserveAspectRatio=\"none\">\r\n  <defs><rect id=\"B\" x=\"0\" y=\"0\" width=\"${w}\" height=\"${h}\" rx=\"${w/2}\" ry=\"${w/2}\" fill=\"${bg}\"/>\r\n  <circle id=\"K\" x=\"0\" y=\"0\" r=\"${w/2*0.9}\" fill=\"${fg}\"/></defs>`;\r\n      for(let i=0;i<fr;++i){\r\n        r+=`<use xlink:href=\"#B\" transform=\"translate(0,${h*i})\"/>`;\r\n        r+=`<use xlink:href=\"#K\" transform=\"translate(${w/2} ${h*(i+1)-w/2-i*(h-w)/100})\"/>`;\r\n      }\r\n      return r+\"</svg>\";\r\n    }\r\n    let initSwitches=(el)=>{\r\n      let w,h,d,fg,bg;\r\n      if(el.inputKnobs)\r\n        return;\r\n      el.inputKnobs={};\r\n      el.refresh=()=>{\r\n        let src=el.getAttribute(\"data-src\");\r\n        d=+el.getAttribute(\"data-diameter\");\r\n        let st=document.defaultView.getComputedStyle(el,null);\r\n        w=parseFloat(el.getAttribute(\"data-width\")||d||st.width);\r\n        h=parseFloat(el.getAttribute(\"data-height\")||d||st.height);\r\n        bg=el.getAttribute(\"data-bgcolor\")||op.bgcolor;\r\n        fg=el.getAttribute(\"data-fgcolor\")||op.fgcolor;\r\n        el.style.width=w+\"px\";\r\n        el.style.height=h+\"px\";\r\n        if(src)\r\n          el.style.backgroundImage=\"url(\"+src+\")\";\r\n        else {\r\n          let minwh=Math.min(w,h);\r\n          let svg=\r\n  `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${w}\" height=\"${h*2}\" viewBox=\"0 0 ${w} ${h*2}\" preserveAspectRatio=\"none\">\r\n  <g><rect fill=\"${bg}\" x=\"1\" y=\"1\" width=\"${w-2}\" height=\"${h-2}\" rx=\"${minwh*0.25}\" ry=\"${minwh*0.25}\"/>\r\n  <rect fill=\"${bg}\" x=\"1\" y=\"${h+1}\" width=\"${w-2}\" height=\"${h-2}\" rx=\"${minwh*0.25}\" ry=\"${minwh*0.25}\"/>\r\n  <circle fill=\"${fg}\" cx=\"${w*0.5}\" cy=\"${h*1.5}\" r=\"${minwh*0.25}\"/></g></svg>`;\r\n          el.style.backgroundImage=\"url(data:image/svg+xml;base64,\"+btoa(svg)+\")\";\r\n        }\r\n      };\r\n      el.refresh();\r\n    };\r\n    let initKnobs=(el)=>{\r\n      let w,h,d,fg,bg;\r\n      if(el.inputKnobs){\r\n        el.redraw();\r\n        return;\r\n      }\r\n      let ik=el.inputKnobs={};\r\n      el.refresh=()=>{\r\n        d=+el.getAttribute(\"data-diameter\");\r\n        let st=document.defaultView.getComputedStyle(el,null);\r\n        w=parseFloat(el.getAttribute(\"data-width\")||d||st.width);\r\n        h=parseFloat(el.getAttribute(\"data-height\")||d||st.height);\r\n        bg=el.getAttribute(\"data-bgcolor\")||op.bgcolor;\r\n        fg=el.getAttribute(\"data-fgcolor\")||op.fgcolor;\r\n        ik.sensex=ik.sensey=200;\r\n        if(el.className.indexOf(\"input-knob\")>=0)\r\n          ik.itype=\"k\";\r\n        else{\r\n          if(w>=h){\r\n            ik.itype=\"h\";\r\n            ik.sensex=w-h;\r\n            ik.sensey=Infinity;\r\n            el.style.backgroundSize=\"auto 100%\";\r\n          }\r\n          else{\r\n            ik.itype=\"v\";\r\n            ik.sensex=Infinity;\r\n            ik.sensey=h-w;\r\n            el.style.backgroundSize=\"100% auto\";\r\n          }\r\n        }\r\n        el.style.width=w+\"px\";\r\n        el.style.height=h+\"px\";\r\n        ik.frameheight=h;\r\n        let src=el.getAttribute(\"data-src\");\r\n        if(src){\r\n          el.style.backgroundImage=`url(${src})`;\r\n          let sp=+el.getAttribute(\"data-sprites\");\r\n          if(sp)\r\n            ik.sprites=sp;\r\n          else\r\n            ik.sprites=0;\r\n          if(ik.sprites>=1)\r\n            el.style.backgroundSize=`100% ${(ik.sprites+1)*100}%`;\r\n          else if(ik.itype!=\"k\"){\r\n            el.style.backgroundColor=bg;\r\n            el.style.borderRadius=Math.min(w,h)*0.25+\"px\";\r\n          }\r\n        }\r\n        else{\r\n          let svg;\r\n          switch(ik.itype){\r\n          case \"k\": svg=makeKnobFrames(101,fg,bg); break;\r\n          case \"h\": svg=makeHSliderFrames(101,fg,bg,w,h); break;\r\n          case \"v\": svg=makeVSliderFrames(101,fg,bg,w,h); break;\r\n          }\r\n          ik.sprites=100;\r\n          el.style.backgroundImage=\"url(data:image/svg+xml;base64,\"+btoa(svg)+\")\";\r\n          el.style.backgroundSize=`100% ${(ik.sprites+1)*100}%`;\r\n        }\r\n        ik.valrange={min:+el.min, max:(el.max==\"\")?100:+el.max, step:(el.step==\"\")?1:+el.step};\r\n        el.redraw(true);\r\n      };\r\n      el.setValue=(v)=>{\r\n        v=(Math.round((v-ik.valrange.min)/ik.valrange.step))*ik.valrange.step+ik.valrange.min;\r\n        if(v<ik.valrange.min) v=ik.valrange.min;\r\n        if(v>ik.valrange.max) v=ik.valrange.max;\r\n        el.value=v;\r\n        if(el.value!=ik.oldvalue){\r\n          el.setAttribute(\"value\",el.value);\r\n          el.redraw();\r\n          let event=document.createEvent(\"HTMLEvents\");\r\n          event.initEvent(\"input\",false,true);\r\n          el.dispatchEvent(event);\r\n          ik.oldvalue=el.value;\r\n        }\r\n      };\r\n      ik.pointerdown=(ev)=>{\r\n        el.focus();\r\n        const evorg = ev;\r\n        if(ev.touches)\r\n          ev = ev.touches[0];\r\n        let rc=el.getBoundingClientRect();\r\n        let cx=(rc.left+rc.right)*0.5,cy=(rc.top+rc.bottom)*0.5;\r\n        let dx=ev.clientX,dy=ev.clientY;\r\n        let da=Math.atan2(ev.clientX-cx,cy-ev.clientY);\r\n        if(ik.itype==\"k\"&&op.knobMode==\"circularabs\"){\r\n          dv=ik.valrange.min+(da/Math.PI*0.75+0.5)*(ik.valrange.max-ik.valrange.min);\r\n          el.setValue(dv);\r\n        }\r\n        if(ik.itype!=\"k\"&&op.sliderMode==\"abs\"){\r\n          dv=(ik.valrange.min+ik.valrange.max)*0.5+((dx-cx)/ik.sensex-(dy-cy)/ik.sensey)*(ik.valrange.max-ik.valrange.min);\r\n          el.setValue(dv);\r\n        }\r\n        ik.dragfrom={x:ev.clientX,y:ev.clientY,a:Math.atan2(ev.clientX-cx,cy-ev.clientY),v:+el.value};\r\n        document.addEventListener(\"mousemove\",ik.pointermove);\r\n        document.addEventListener(\"mouseup\",ik.pointerup);\r\n        document.addEventListener(\"touchmove\",ik.pointermove);\r\n        document.addEventListener(\"touchend\",ik.pointerup);\r\n        document.addEventListener(\"touchcancel\",ik.pointerup);\r\n        document.addEventListener(\"touchstart\",ik.preventScroll);\r\n        evorg.preventDefault();\r\n        evorg.stopPropagation();\r\n      };\r\n      ik.pointermove=(ev)=>{\r\n        let dv;\r\n        let rc=el.getBoundingClientRect();\r\n        let cx=(rc.left+rc.right)*0.5,cy=(rc.top+rc.bottom)*0.5;\r\n        if(ev.touches)\r\n          ev = ev.touches[0];\r\n        let dx=ev.clientX-ik.dragfrom.x,dy=ev.clientY-ik.dragfrom.y;\r\n        let da=Math.atan2(ev.clientX-cx,cy-ev.clientY);\r\n        switch(ik.itype){\r\n        case \"k\":\r\n          switch(op.knobMode){\r\n          case \"linear\":\r\n            dv=(dx/ik.sensex-dy/ik.sensey)*(ik.valrange.max-ik.valrange.min);\r\n            if(ev.shiftKey)\r\n              dv*=0.2;\r\n            el.setValue(ik.dragfrom.v+dv);\r\n            break;\r\n          case \"circularabs\":\r\n            if(!ev.shiftKey){\r\n              dv=ik.valrange.min+(da/Math.PI*0.75+0.5)*(ik.valrange.max-ik.valrange.min);\r\n              el.setValue(dv);\r\n              break;\r\n            }\r\n          case \"circularrel\":\r\n            if(da>ik.dragfrom.a+Math.PI) da-=Math.PI*2;\r\n            if(da<ik.dragfrom.a-Math.PI) da+=Math.PI*2;\r\n            da-=ik.dragfrom.a;\r\n            dv=da/Math.PI/1.5*(ik.valrange.max-ik.valrange.min);\r\n            if(ev.shiftKey)\r\n              dv*=0.2;\r\n            el.setValue(ik.dragfrom.v+dv);\r\n          }\r\n          break;\r\n        case \"h\":\r\n        case \"v\":\r\n          dv=(dx/ik.sensex-dy/ik.sensey)*(ik.valrange.max-ik.valrange.min);\r\n          if(ev.shiftKey)\r\n            dv*=0.2;\r\n          el.setValue(ik.dragfrom.v+dv);\r\n          break;\r\n        }\r\n      };\r\n      ik.pointerup=()=>{\r\n        document.removeEventListener(\"mousemove\",ik.pointermove);\r\n        document.removeEventListener(\"touchmove\",ik.pointermove);\r\n        document.removeEventListener(\"mouseup\",ik.pointerup);\r\n        document.removeEventListener(\"touchend\",ik.pointerup);\r\n        document.removeEventListener(\"touchcancel\",ik.pointerup);\r\n        document.removeEventListener(\"touchstart\",ik.preventScroll);\r\n        let event=document.createEvent(\"HTMLEvents\");\r\n        event.initEvent(\"change\",false,true);\r\n        el.dispatchEvent(event);\r\n      };\r\n      ik.preventScroll=(ev)=>{\r\n        ev.preventDefault();\r\n      };\r\n      ik.keydown=()=>{\r\n        el.redraw();\r\n      };\r\n      ik.wheel=(ev)=>{\r\n        let delta=ev.deltaY>0?-ik.valrange.step:ik.valrange.step;\r\n        if(!ev.shiftKey)\r\n          delta*=5;\r\n        el.setValue(+el.value+delta);\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n      };\r\n      el.redraw=(f)=>{\r\n        if(f||ik.valueold!=el.value){\r\n          let v=(el.value-ik.valrange.min)/(ik.valrange.max-ik.valrange.min);\r\n          if(ik.sprites>=1)\r\n            el.style.backgroundPosition=\"0px \"+(-((v*ik.sprites)|0)*ik.frameheight)+\"px\";\r\n          else{\r\n            switch(ik.itype){\r\n            case \"k\":\r\n              el.style.transform=\"rotate(\"+(270*v-135)+\"deg)\";\r\n              break;\r\n            case \"h\":\r\n              el.style.backgroundPosition=((w-h)*v)+\"px 0px\";\r\n              break;\r\n            case \"v\":\r\n              el.style.backgroundPosition=\"0px \"+(h-w)*(1-v)+\"px\";\r\n              break;\r\n            }\r\n          }\r\n          ik.valueold=el.value;\r\n        }\r\n      };\r\n      el.refresh();\r\n      el.redraw(true);\r\n      el.addEventListener(\"keydown\",ik.keydown);\r\n      el.addEventListener(\"mousedown\",ik.pointerdown);\r\n      el.addEventListener(\"touchstart\",ik.pointerdown);\r\n      el.addEventListener(\"wheel\",ik.wheel);\r\n    }\r\n    let refreshque=()=>{\r\n      let elem=document.querySelectorAll(\"input.input-knob,input.input-slider\");\r\n      for(let i=0;i<elem.length;++i)\r\n        procque.push([initKnobs,elem[i]]);\r\n      elem=document.querySelectorAll(\"input[type=checkbox].input-switch,input[type=radio].input-switch\");\r\n      for(let i=0;i<elem.length;++i){\r\n        procque.push([initSwitches,elem[i]]);\r\n      }\r\n    }\r\n    let procque=[];\r\n    refreshque();\r\n    setInterval(()=>{\r\n      for(let i=0;procque.length>0&&i<8;++i){\r\n        let q=procque.shift();\r\n        q[0](q[1]);\r\n      }\r\n      if(procque.length<=0)\r\n        refreshque();\r\n    },50);\r\n  });\r\n  "],"names":["window","addEventListener","op","inputKnobsOptions","knobWidth","knobDiameter","knobHeight","sliderWidth","sliderDiameter","sliderHeight","switchWidth","switchDiameter","switchHeight","fgcolor","bgcolor","knobMode","sliderMode","styles","document","createElement","innerHTML","head","appendChild","el","w","h","d","fg","bg","getAttribute","defaultView","getComputedStyle","st","width","height","style","backgroundImage","src","Math","min","svg","minwh","btoa","inputKnobs","parseFloat","ik","sensex","sensey","className","indexOf","itype","Infinity","backgroundSize","frameheight","sp","sprites","backgroundColor","borderRadius","fr","r","i","makeKnobFrames","makeHSliderFrames","makeVSliderFrames","valrange","max","step","v","oldvalue","value","createEvent","event","ev","touches","getBoundingClientRect","cx","rc","left","right","cy","top","bottom","dx","clientX","dy","clientY","atan2","da","PI","dv","setValue","dragfrom","x","y","a","pointermove","pointerup","preventScroll","evorg","preventDefault","stopPropagation","dv1","shiftKey","removeEventListener","initEvent","dispatchEvent","keydown"],"version":3,"file":"index.212a83d4.js.map"}