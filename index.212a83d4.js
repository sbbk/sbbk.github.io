window.addEventListener("load",(()=>{let e=window.inputKnobsOptions||{};e.knobWidth=e.knobWidth||e.knobDiameter||64,e.knobHeight=e.knobHeight||e.knobDiameter||64,e.sliderWidth=e.sliderWidth||e.sliderDiameter||128,e.sliderHeight=e.sliderHeight||e.sliderDiameter||20,e.switchWidth=e.switchWidth||e.switchDiameter||24,e.switchHeight=e.switchHeight||e.switchDiameter||24,e.fgcolor=e.fgcolor||"#000",e.bgcolor=e.bgcolor||"#ff6c55",e.knobMode=e.knobMode||"linear",e.sliderMode=e.sliderMode||"relative";let t=document.createElement("style");t.innerHTML=`input[type=range].input-knob,input[type=range].input-slider{\n    -webkit-appearance:none;\n    -moz-appearance:none;\n    border:none;\n    box-sizing:border-box;\n    overflow:hidden;\n    background-repeat:no-repeat;\n    background-size:100% 100%;\n    background-position:0px 0%;\n    background-color:transparent;\n    touch-action:none;\n  }\n  input[type=range].input-knob{\n    width:${e.knobWidth}px; height:${e.knobHeight}px;\n  }\n  input[type=range].input-slider{\n    width:${e.sliderWidth}px; height:${e.sliderHeight}px;\n  }\n  input[type=range].input-knob::-webkit-slider-thumb,input[type=range].input-slider::-webkit-slider-thumb{\n    -webkit-appearance:none;\n    opacity:0;\n  }\n  input[type=range].input-knob::-moz-range-thumb,input[type=range].input-slider::-moz-range-thumb{\n    -moz-appearance:none;\n    height:0;\n    border:none;\n  }\n  input[type=range].input-knob::-moz-range-track,input[type=range].input-slider::-moz-range-track{\n    -moz-appearance:none;\n    height:0;\n    border:none;\n  }\n  input[type=checkbox].input-switch,input[type=radio].input-switch {\n    width:${e.switchWidth}px;\n    height:${e.switchHeight}px;\n    -webkit-appearance:none;\n    -moz-appearance:none;\n    background-size:100% 200%;\n    background-position:0% 0%;\n    background-repeat:no-repeat;\n    border:none;\n    border-radius:0;\n    background-color:transparent;\n  }\n  input[type=checkbox].input-switch:checked,input[type=radio].input-switch:checked {\n    background-position:0% 100%;\n  }`,document.head.appendChild(t);let n=t=>{let n,r,a,i,o;t.inputKnobs||(t.inputKnobs={},t.refresh=()=>{let s=t.getAttribute("data-src");a=+t.getAttribute("data-diameter");let l=document.defaultView.getComputedStyle(t,null);if(n=parseFloat(t.getAttribute("data-width")||a||l.width),r=parseFloat(t.getAttribute("data-height")||a||l.height),o=t.getAttribute("data-bgcolor")||e.bgcolor,i=t.getAttribute("data-fgcolor")||e.fgcolor,t.style.width=n+"px",t.style.height=r+"px",s)t.style.backgroundImage="url("+s+")";else{let e=Math.min(n,r),a=`<svg xmlns="http://www.w3.org/2000/svg" width="${n}" height="${2*r}" viewBox="0 0 ${n} ${2*r}" preserveAspectRatio="none">\n  <g><rect fill="${o}" x="1" y="1" width="${n-2}" height="${r-2}" rx="${.25*e}" ry="${.25*e}"/>\n  <rect fill="${o}" x="1" y="${r+1}" width="${n-2}" height="${r-2}" rx="${.25*e}" ry="${.25*e}"/>\n  <circle fill="${i}" cx="${.5*n}" cy="${1.5*r}" r="${.25*e}"/></g></svg>`;t.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(a)+")"}},t.refresh())},r=t=>{let n,r,a,i,o;if(t.inputKnobs)return void t.redraw();let s=t.inputKnobs={};t.refresh=()=>{a=+t.getAttribute("data-diameter");let l=document.defaultView.getComputedStyle(t,null);n=parseFloat(t.getAttribute("data-width")||a||l.width),r=parseFloat(t.getAttribute("data-height")||a||l.height),o=t.getAttribute("data-bgcolor")||e.bgcolor,i=t.getAttribute("data-fgcolor")||e.fgcolor,s.sensex=s.sensey=200,t.className.indexOf("input-knob")>=0?s.itype="k":n>=r?(s.itype="h",s.sensex=n-r,s.sensey=1/0,t.style.backgroundSize="auto 100%"):(s.itype="v",s.sensex=1/0,s.sensey=r-n,t.style.backgroundSize="100% auto"),t.style.width=n+"px",t.style.height=r+"px",s.frameheight=r;let d=t.getAttribute("data-src");if(d){t.style.backgroundImage=`url(${d})`;let e=+t.getAttribute("data-sprites");s.sprites=e||0,s.sprites>=1?t.style.backgroundSize=`100% ${100*(s.sprites+1)}%`:"k"!=s.itype&&(t.style.backgroundColor=o,t.style.borderRadius=.25*Math.min(n,r)+"px")}else{let e;switch(s.itype){case"k":e=((e,t,n)=>{let r=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="${64*e}" viewBox="0 0 64 ${64*e}" preserveAspectRatio="none">\n  <defs><g id="K"><circle cx="32" cy="32" r="30" fill="${n}"/>\n  <line x1="32" y1="28" x2="32" y2="7" stroke-linecap="round" stroke-width="6" stroke="${t}"/></g></defs>\n  <use xlink:href="#K" transform="rotate(-135,32,32)"/>`;for(let t=1;t<e;++t)r+=`<use xlink:href="#K" transform="translate(0,${64*t}) rotate(${270*t/e-135},32,32)"/>`;return r+"</svg>"})(101,i,o);break;case"h":e=((e,t,n,r,a)=>{let i=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${r}" height="${e*a}" viewBox="0 0 ${r} ${e*a}" preserveAspectRatio="none">\n  <defs><g id="B"><rect x="0" y="0" width="${r}" height="${a}" rx="${a/2}" ry="${a/2}" fill="${n}"/></g>\n  <g id="K"><circle x="${r/2}" y="0" r="${a/2*.9}" fill="${t}"/></g></defs>`;for(let t=0;t<e;++t)i+=`<use xlink:href="#B" transform="translate(0,${a*t})"/>`,i+=`<use xlink:href="#K" transform="translate(${a/2+(r-a)*t/100},${a/2+a*t})"/>`;return i+"</svg>"})(101,i,o,n,r);break;case"v":e=((e,t,n,r,a)=>{let i=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${r}" height="${e*a}" viewBox="0 0 ${r} ${e*a}" preserveAspectRatio="none">\n  <defs><rect id="B" x="0" y="0" width="${r}" height="${a}" rx="${r/2}" ry="${r/2}" fill="${n}"/>\n  <circle id="K" x="0" y="0" r="${r/2*.9}" fill="${t}"/></defs>`;for(let t=0;t<e;++t)i+=`<use xlink:href="#B" transform="translate(0,${a*t})"/>`,i+=`<use xlink:href="#K" transform="translate(${r/2} ${a*(t+1)-r/2-t*(a-r)/100})"/>`;return i+"</svg>"})(101,i,o,n,r)}s.sprites=100,t.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(e)+")",t.style.backgroundSize=`100% ${100*(s.sprites+1)}%`}s.valrange={min:+t.min,max:""==t.max?100:+t.max,step:""==t.step?1:+t.step},t.redraw(!0)},t.setValue=e=>{if((e=Math.round((e-s.valrange.min)/s.valrange.step)*s.valrange.step+s.valrange.min)<s.valrange.min&&(e=s.valrange.min),e>s.valrange.max&&(e=s.valrange.max),t.value=e,t.value!=s.oldvalue){t.setAttribute("value",t.value),t.redraw();let e=document.createEvent("HTMLEvents");e.initEvent("input",!1,!0),t.dispatchEvent(e),s.oldvalue=t.value}},s.pointerdown=n=>{t.focus();const r=n;n.touches&&(n=n.touches[0]);let a=t.getBoundingClientRect(),i=.5*(a.left+a.right),o=.5*(a.top+a.bottom),l=n.clientX,d=n.clientY,u=Math.atan2(n.clientX-i,o-n.clientY);"k"==s.itype&&"circularabs"==e.knobMode&&(dv=s.valrange.min+(u/Math.PI*.75+.5)*(s.valrange.max-s.valrange.min),t.setValue(dv)),"k"!=s.itype&&"abs"==e.sliderMode&&(dv=.5*(s.valrange.min+s.valrange.max)+((l-i)/s.sensex-(d-o)/s.sensey)*(s.valrange.max-s.valrange.min),t.setValue(dv)),s.dragfrom={x:n.clientX,y:n.clientY,a:Math.atan2(n.clientX-i,o-n.clientY),v:+t.value},document.addEventListener("mousemove",s.pointermove),document.addEventListener("mouseup",s.pointerup),document.addEventListener("touchmove",s.pointermove),document.addEventListener("touchend",s.pointerup),document.addEventListener("touchcancel",s.pointerup),document.addEventListener("touchstart",s.preventScroll),r.preventDefault(),r.stopPropagation()},s.pointermove=n=>{let r,a=t.getBoundingClientRect(),i=.5*(a.left+a.right),o=.5*(a.top+a.bottom);n.touches&&(n=n.touches[0]);let l=n.clientX-s.dragfrom.x,d=n.clientY-s.dragfrom.y,u=Math.atan2(n.clientX-i,o-n.clientY);switch(s.itype){case"k":switch(e.knobMode){case"linear":r=(l/s.sensex-d/s.sensey)*(s.valrange.max-s.valrange.min),n.shiftKey&&(r*=.2),t.setValue(s.dragfrom.v+r);break;case"circularabs":if(!n.shiftKey){r=s.valrange.min+(u/Math.PI*.75+.5)*(s.valrange.max-s.valrange.min),t.setValue(r);break}case"circularrel":u>s.dragfrom.a+Math.PI&&(u-=2*Math.PI),u<s.dragfrom.a-Math.PI&&(u+=2*Math.PI),u-=s.dragfrom.a,r=u/Math.PI/1.5*(s.valrange.max-s.valrange.min),n.shiftKey&&(r*=.2),t.setValue(s.dragfrom.v+r)}break;case"h":case"v":r=(l/s.sensex-d/s.sensey)*(s.valrange.max-s.valrange.min),n.shiftKey&&(r*=.2),t.setValue(s.dragfrom.v+r)}},s.pointerup=()=>{document.removeEventListener("mousemove",s.pointermove),document.removeEventListener("touchmove",s.pointermove),document.removeEventListener("mouseup",s.pointerup),document.removeEventListener("touchend",s.pointerup),document.removeEventListener("touchcancel",s.pointerup),document.removeEventListener("touchstart",s.preventScroll);let e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),t.dispatchEvent(e)},s.preventScroll=e=>{e.preventDefault()},s.keydown=()=>{t.redraw()},s.wheel=e=>{let n=e.deltaY>0?-s.valrange.step:s.valrange.step;e.shiftKey||(n*=5),t.setValue(+t.value+n),e.preventDefault(),e.stopPropagation()},t.redraw=e=>{if(e||s.valueold!=t.value){let e=(t.value-s.valrange.min)/(s.valrange.max-s.valrange.min);if(s.sprites>=1)t.style.backgroundPosition="0px "+-(e*s.sprites|0)*s.frameheight+"px";else switch(s.itype){case"k":t.style.transform="rotate("+(270*e-135)+"deg)";break;case"h":t.style.backgroundPosition=(n-r)*e+"px 0px";break;case"v":t.style.backgroundPosition="0px "+(r-n)*(1-e)+"px"}s.valueold=t.value}},t.refresh(),t.redraw(!0),t.addEventListener("keydown",s.keydown),t.addEventListener("mousedown",s.pointerdown),t.addEventListener("touchstart",s.pointerdown),t.addEventListener("wheel",s.wheel)},a=()=>{let e=document.querySelectorAll("input.input-knob,input.input-slider");for(let t=0;t<e.length;++t)i.push([r,e[t]]);e=document.querySelectorAll("input[type=checkbox].input-switch,input[type=radio].input-switch");for(let t=0;t<e.length;++t)i.push([n,e[t]])},i=[];a(),setInterval((()=>{for(let e=0;i.length>0&&e<8;++e){let e=i.shift();e[0](e[1])}i.length<=0&&a()}),50)}));
//# sourceMappingURL=index.212a83d4.js.map
